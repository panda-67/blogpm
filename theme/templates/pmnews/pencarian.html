{% extends "base.html" %}
<span></span>
{% block title %}{{page_title}}{% endblock %}
<span></span>
{% block content %}

<!-- This is component -->
{% if cari %}
<div class="container mx-auto my-5 flex flex-col items-center">
  <div class="rounded-lg flex items-center justify-center md:shadow-xl md:h-14 w-2/3 mx-2">
    <span class="font-sans font-semibold text-lg text-gray-700">Hasil pencarian untuk &Prime;{{ cari }}.&Prime;</span>
  </div>
  <div class="flex sm:hidden items-center justify-center rounded-xl my-2">
    <form method="POST" action="{% url 'pencarian' %}">
      <div class="relative text-gray-700 focus-within:text-gray-100">
        {% csrf_token %}
        <input
          type="search"
          name="cari"
          class="py-2 text-sm w-64 bg-gray-50 text-gray-700 border border-gray-300 focus:border-opacity-0 rounded-xl pl-4 pr-10 focus:outline-none focus:text-gray-100 focus:bg-gray-500 hover:shadow-lg"
          placeholder="Looking for..."
          autocomplete="off"
        />
        <span class="absolute inset-y-0 right-0 flex items-center pr-2">
          <button type="submit" class="p-1 focus:outline-none focus:shadow-outline">
            <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" class="w-6 h-6">
              <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </button>
        </span>
      </div>
    </form>
  </div>
</div>
{% for pos in post %}
<div class="container mx-auto my-5">
  <a href="/{{ pos.created_on|date:'Y' }}/{{ pos.created_on|date:'m' }}/{{ pos.created_on|date:'d' }}/{{ pos.slug }}/" target="_blank">
    <div class="relative rounded-lg flex flex-col justify-start shadow-xl md:h-40 m-4 md:m-10 p-12 md:pt-3 hover:bg-gray-200">
      <h3 class="font-bold text-2xl text-gray-700">{{ pos.title }}</h3>
      <div class="flex items-center mt-2">
        <svg class="w-8 mx-2" viewBox="0 0 393.89 342.41">
          <path
            d="M389.22,52.63a27.08,27.08,0,0,0-14.48-11.56s0,0,0,0L261.07,2.11H261A27,27,0,0,0,238.4,4.3L14.33,133.66A27.53,27.53,0,0,0,4.27,171.21L94.84,328.08a27.56,27.56,0,0,0,37.55,10.06L356.46,208.78a27.09,27.09,0,0,0,13.22-18.49v0L392.8,72.35s0,0,0,0a27.13,27.13,0,0,0-2.91-18.58c-.21-.37-.43-.76-.65-1.12ZM353.31,74.28a25.92,25.92,0,1,1-35.39-9.51,25.87,25.87,0,0,1,35.39,9.51Z"
          />
        </svg>
        {% for tag in pos.tags.all %}
        <a href="{% url 'tag_list' tag.slug %}" class="mx-1 px-2 pb-1 my-2 rounded-md bg-gray-600 text-xs font-semibold text-gray-100 inline-flex items-center justify-center"> {{tag.name|capfirst}} </a>
        <!-- {% if not forloop.last %}, {% endif %}  -->
        {% endfor %}
      </div>
      <p class="text-gray-600">{{ pos.content|safe|truncatewords:16 }}</p>
      <div class="py-2"><span class="font-semibold text-sm">Read more</span><span class="text-xs ml-1">&#x279c;</span></div>
    </div>
  </a>
</div>
{% endfor %}
<!-- End of component -->
{% else %}
<div class="container mx-auto my-5 flex justify-center">
  <div class="relative rounded-lg flex justify-center items-center md:h-14 w-2/3 mt-8 mx-2">
    <span class="font-sans font-semibold text-sm md:text-lg text-gray-700">Kamu belum melakukan pencarian!</span>
  </div>
</div>
<div class="flex items-center justify-center rounded-xl my-16">
  <form method="POST" action="{% url 'pencarian' %}">
    <div class="relative text-gray-700 focus-within:text-gray-100">
      {% csrf_token %}
      <input
        type="search"
        name="cari"
        class="py-2 text-sm w-64 md:w-96 bg-gray-50 text-gray-700 border border-gray-300 focus:border-opacity-0 rounded-xl pl-4 pr-10 focus:outline-none focus:text-gray-100 focus:bg-gray-500 hover:shadow-lg"
        placeholder="Looking for..."
        autocomplete="off"
      />
      <span class="absolute inset-y-0 right-0 flex items-center pr-2">
        <button type="submit" class="p-1 focus:outline-none focus:shadow-outline">
          <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" class="w-6 h-6">
            <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
        </button>
      </span>
    </div>
  </form>
</div>
{% endif %} {% endblock %}
